# 定义
确保一个类只有一个实例，而且自行实例化并向整个系统提供这个实例

# 作用
确保一个类只有一个实例存在。

# 表现形式（看new的位置）

* 饿汉单例
类加载时，就进行对象实例化

* 懒汉单例
第一次引用类时，才进行对象的实例化

# 两种单例区别

* 饿汉式单例类在被加载时实例化，而懒汉式单例类在第一次引用时实例化；
* 从资源利用率来说，饿汉式单例类要差一些，但从速度和反应时间角度来说，饿汉式单例类则比懒汉式单例类稍好些；
* 饿汉式单例类可以在Java中实现，但是在C++中不容易实现。

# 单例模式优点
* 由于单例模式在内存中只有一个实例，减少了内存的开支，特别是对一个对象需要频繁的创建、销毁；
* 由于单例模式只生成一个实例，所以减少了系统的性能开销；
* 单例模式可以避免对资源的多重占用；
* 单例模式可以在系统设置全局访问点，优化和共享资源访问

# 单例模式缺点
* 单例模式无法创建子类，扩展困难；
* 单例模式不利于测试，如果采用单例模式的类没有完成，是不能进行测试的；单例模式的类通常不会实现接口，这也妨碍了使用mock方式模拟一个对象
* 单例模式与单一只能原则有冲突。一个类应该只实现一个逻辑，而不关心它是否是单例。

# 注意事项
单例类可分为 **有状态单例类**、**无状态单例类**

* 有状态单例类：一个有状态单例类的对象一般是可变的，通常当作状态库使用，例如，给系统提供一个唯一的序列号
* 无状态单例类：是不可变的，通常用来提供工具性的功能方法。

# 其他注意事项
*单例类仅局限于一个JVM，因此当多个JVM的分布式系统时，这个单例类就会在多个JVM中被实例化，造成单例失效。

* 同一个JVM中会有多个类加载器，当两个类加载器同时加载同一个类时，会出现两个实例，此时也应尽量避免使用有状态的单例类。